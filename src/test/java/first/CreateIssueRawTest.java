package first;

import io.restassured.RestAssured;
import io.restassured.http.ContentType;
import io.restassured.response.ValidatableResponse;
import org.testng.annotations.Test;
import utils.api.Authorization;

import static io.restassured.RestAssured.given;

public class CreateIssueRawTest {

  String projectId = "10508";
  String issueType = "10107";

  @Test
  public void issueCreateTest() {
    RestAssured.baseURI = "http://jira.hillel.it:8080"; // rest assured preconfiguration
    ValidatableResponse response;

    /* test data and parameters */
    String summary = "Test Summary";
    String assignee = "Artur Piluck";

    String credentialsJSON = "{" +
        "\"username\": \"webinar1\"," +
        "\"password\": \"" + Authorization.password + "\"" +
        "} ";

    String issueJSON = "{\"fields\":{" +
        "\"summary\":\"" + summary + "\"," +
        "\"issuetype\":{\"id\":\"" + issueType + "\"}," +
        "\"project\":{\"id\":\"" + projectId + "\"}," +
        "\"reporter\":{\"name\":\"" + assignee + "\"}," +
        "\"assignee\":{\"name\":\"" + assignee + "\"}" +
        "}}";

    /* HTTP Requests for login*/
    String sessionId = given().
        header("Content-Type", "application/json").
        body(credentialsJSON).
        when().
        post("/rest/auth/1/session").
        then().
        extract().
        path("session.value");

    System.out.printf("\nSESSION: " + sessionId);

    /* HTTP Request to get ID's for project and issue type*/
    String result = given().
        header("Content-Type", "application/json").
        header("Cookie", "JSESSIONID=" + sessionId).
        when().
        get("/rest/api/2/issue/createmeta").
        then().
        extract().
        asString();

    // {"expand":"projects","projects":[{"self":"http://jira.hillel.it:8080/rest/api/2/project/10406","id":"10406","key":"AR","name":"ArtEfactor","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10201","id":"10201","description":"","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Sub-Defect","subtask":true}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10003","id":"10003","key":"AUG","name":"Augustovskiy","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10507","id":"10507","key":"BO","name":"Bakery Odessa","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10400","id":"10400","key":"BOB","name":"Bobiby","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?pid=10400&avatarId=11001","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&pid=10400&avatarId=11001","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&pid=10400&avatarId=11001","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&pid=10400&avatarId=11001"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10200","id":"10200","description":"","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10311&avatarType=issuetype","name":"Improvement","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10500","id":"10500","key":"DF3","name":"December 2017 Hillel HF3","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10002","id":"10002","key":"GQR","name":"General QA Robert","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10101","id":"10101","description":"Подзадача запроса","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Подзадача","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10100","id":"10100","description":"Задание для выполнения.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Задача","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10102","id":"10102","description":"Проблема, препятствующая функционированию продукта.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Ошибка","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10404","id":"10404","key":"HD","name":"Hillel Development","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10504","id":"10504","key":"HQ","name":"Hillel QA 1/11/2018","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10401","id":"10401","key":"HTP","name":"Hillel Test Projects","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10403","id":"10403","key":"HR","name":"HR","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10506","id":"10506","key":"KIR","name":"kirill 12345","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10001","id":"10001","key":"MQ","name":"Manual QA","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10101","id":"10101","description":"Подзадача запроса","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Подзадача","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10100","id":"10100","description":"Задание для выполнения.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Задача","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10102","id":"10102","description":"Проблема, препятствующая функционированию продукта.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Ошибка","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10503","id":"10503","key":"MQ3","name":"Manual QA#3","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10201","id":"10201","description":"","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Sub-Defect","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10200","id":"10200","description":"","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10311&avatarType=issuetype","name":"Improvement","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10100","id":"10100","key":"OC","name":"October-QA-Manual","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10501","id":"10501","key":"QA2","name":"QA Manual #2","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?pid=10501&avatarId=11111","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&pid=10501&avatarId=11111","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&pid=10501&avatarId=11111","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&pid=10501&avatarId=11111"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10200","id":"10200","description":"","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10311&avatarType=issuetype","name":"Improvement","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10402","id":"10402","key":"QTT","name":"QA Team","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10505","id":"10505","key":"QATPRJ01","name":"QA_PROJECT01","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?pid=10505&avatarId=10011","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&pid=10505&avatarId=10011","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&pid=10505&avatarId=10011","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&pid=10505&avatarId=10011"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10300","id":"10300","description":"","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10304&avatarType=issuetype","name":"Impediment","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10200","id":"10200","description":"","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10311&avatarType=issuetype","name":"Improvement","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10502","id":"10502","key":"QAAUT","name":"QAAuto5","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10000","id":"10000","key":"SSS","name":"sss","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10100","id":"10100","description":"Задание для выполнения.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Задача","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10101","id":"10101","description":"Подзадача запроса","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Подзадача","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10102","id":"10102","description":"Проблема, препятствующая функционированию продукта.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Ошибка","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10300","id":"10300","key":"TPP","name":"Test PM Project","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10200","id":"10200","key":"TS","name":"Test Scrum","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10405","id":"10405","key":"TEST","name":"test2611","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10101","id":"10101","key":"WSD","name":"Web site development","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false}]},{"self":"http://jira.hillel.it:8080/rest/api/2/project/10508","id":"10508","key":"WEBINAR","name":"Webinar","avatarUrls":{"48x48":"http://jira.hillel.it:8080/secure/projectavatar?avatarId=10324","24x24":"http://jira.hillel.it:8080/secure/projectavatar?size=small&avatarId=10324","16x16":"http://jira.hillel.it:8080/secure/projectavatar?size=xsmall&avatarId=10324","32x32":"http://jira.hillel.it:8080/secure/projectavatar?size=medium&avatarId=10324"},"issuetypes":[{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10107","id":"10107","description":"A problem which impairs or prevents the functions of the product.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10303&avatarType=issuetype","name":"Bug","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10106","id":"10106","description":"The sub-task of the issue","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10316&avatarType=issuetype","name":"Sub-task","subtask":true},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10000","id":"10000","description":"Created by JIRA Software - do not edit or delete. Issue type for a big user story that needs to be broken down.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/epic.svg","name":"Epic","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10001","id":"10001","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/images/icons/issuetypes/story.svg","name":"История","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10103","id":"10103","description":"Данный тип задач используется для создания теста Zephyr в Jira","iconUrl":"http://jira.hillel.it:8080/download/resources/com.thed.zephyr.je/images/icons/ico_zephyr_issuetype.png","name":"Test","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10105","id":"10105","description":"A task that needs to be done.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10318&avatarType=issuetype","name":"Task","subtask":false},{"self":"http://jira.hillel.it:8080/rest/api/2/issuetype/10104","id":"10104","description":"Created by JIRA Software - do not edit or delete. Issue type for a user story.","iconUrl":"http://jira.hillel.it:8080/secure/viewavatar?size=xsmall&avatarId=10315&avatarType=issuetype","name":"Story","subtask":false}]}]}

    /* create issue */
    response = given().
        header("Content-Type", "application/json").
        header("Cookie", "JSESSIONID=" + sessionId).
        body(issueJSON).
        when().
        post("/rest/api/2/issue").
        then().
        statusCode(201).contentType(ContentType.JSON);

    String responseBody = response.extract().asString();
    System.out.printf("\nRESPONSE: " + responseBody);
    String issueKey = response.extract().path("key");

    /* get issue to confirm that it exists*/
    given().
        header("Content-Type", "application/json").
        header("Cookie", "JSESSIONID=" + sessionId).
        body(issueJSON).
        when().
        get("/rest/api/2/issue/" + issueKey).
        then().
        statusCode(200).contentType(ContentType.JSON);

    /* delete issue */

    given().
        header("Content-Type", "application/json").
        header("Cookie", "JSESSIONID=" + sessionId).
        body(issueJSON).
        when().
        delete("/rest/api/2/issue/" + issueKey).
        then().
        statusCode(204).contentType(ContentType.JSON);

    /* confirm that you will get 404 error when you will try to get the issue */
    given().
        header("Content-Type", "application/json").
        header("Cookie", "JSESSIONID=" + sessionId).
        body(issueJSON).
        when().
        get("/rest/api/2/issue/" + issueKey).
        then().
        statusCode(404).contentType(ContentType.JSON);
  }
}
